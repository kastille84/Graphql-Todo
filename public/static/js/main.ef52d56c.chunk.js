(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,t,n){e.exports=n(48)},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var o=n(3),a=n.n(o),r=n(22),c=n.n(r),l=(n(38),n(23)),d=n(24),i=n(30),u=n(32),m=n(12),s=n(29),f=n(5),p=n(11),E=n.n(p),v=n(49),b=(n(39),n(31)),g=n(18),h=(n(40),function(e){var t=e.onTodoSubmit,n=Object(o.useState)(""),r=Object(g.a)(n,2),c=r[0],l=r[1],d=Object(o.useState)([]),i=Object(g.a)(d,2),u=i[0],m=i[1];return a.a.createElement("div",{className:"add-todo form-container"},a.a.createElement("form",{className:"form"},u.length>0&&u.map((function(e,t){return a.a.createElement("p",{key:t,style:{textAlign:"center",color:"red"}},e)})),a.a.createElement("div",{className:"form-control"},a.a.createElement("label",{htmlFor:"todo_text"},"What would you like to do?"),a.a.createElement("input",{placeholder:"i.e. Wash Car or Study for test",id:"todo_text",value:c,onChange:function(e){return l(e.target.value)}})),a.a.createElement("div",{className:"form-actions"},a.a.createElement("button",{className:"btn",onClick:function(e){e.preventDefault(),function(e){if(m([]),""!==e)l(""),t(e);else{var n=[].concat(Object(b.a)(u),["Todo cannot be empty"]);m(n)}}(c)}},"Add Todo"))))});n(41);function y(){var e=Object(m.a)(["\n  mutation DeleteTodo($todoId: ID!) {\n    deleteTodo(todoId: $todoId) {\n      _id\n    }\n  }\n"]);return y=function(){return e},e}function _(){var e=Object(m.a)(["\n  query GetTodos {\n    todos {\n      _id\n      text\n      completed\n    }\n  }\n"]);return _=function(){return e},e}function T(){var e=Object(m.a)(["\n  mutation CompleteTodo($todoId: ID!) {\n    completeTodo(todoId: $todoId) {\n      _id\n      text\n      completed\n    }\n  }\n"]);return T=function(){return e},e}var x=E()(T()),O=E()(_()),j=E()(y()),N=function(e){var t=e.todo;return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.a,{mutation:x},(function(e,n){n.loading,n.error,n.data;return a.a.createElement("div",{className:"todo-item"},a.a.createElement("span",{className:"todo-item__text"},t.text),a.a.createElement("span",null,a.a.createElement("button",{className:"btn todo-item__completed ".concat(t.completed?"completed":"not-completed"),onClick:function(){e({variables:{todoId:t._id}})}},t.completed?"Complete":"Not Complete"),a.a.createElement(a.a.Fragment,null,a.a.createElement(v.a,{mutation:j,update:function(e,t){var n=t.data.deleteTodo,o=e.readQuery({query:O}).todos;e.writeQuery({query:O,data:{todos:o.filter((function(e){return e._id!==n._id}))}})}},(function(e,n){n.loading,n.error,n.data;return a.a.createElement("button",{className:"todo-item__close",onClick:function(){return e({variables:{todoId:t._id}})}},"X")})))))})))};function w(){var e=Object(m.a)(["\n  query GetTodos {\n    todos {\n      _id\n      text\n      completed\n    }\n  }\n"]);return w=function(){return e},e}function k(){var e=Object(m.a)(["\n  mutation AddTodo($text: String!) {\n    createTodo(text: $text) {\n      _id\n      text\n      completed\n    }\n  }\n"]);return k=function(){return e},e}var I=new s.a({uri:"/graphql"}),C=E()(k()),q=E()(w()),A=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return a.a.createElement(f.a,{client:I},a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App__title"},a.a.createElement("h1",null,"Todos App"),a.a.createElement("p",null,"Organization at your fingertips")),a.a.createElement(v.a,{mutation:C,update:function(e,t){var n=t.data.createTodo,o=e.readQuery({query:q}).todos;e.writeQuery({query:q,data:{todos:o.concat([n])}})}},(function(e,t){t.loading,t.error;var n=t.data;return console.log("data",n),a.a.createElement(h,{onTodoSubmit:function(t){e({variables:{text:t}})}})})),a.a.createElement("section",{className:"todos__list"},a.a.createElement(v.b,{query:q},(function(e){var t=e.loading,n=e.error,o=e.data;return t?a.a.createElement("h4",null,"Loading..."):(n&&console.log(n),a.a.createElement(a.a.Fragment,null,0===o.todos.length?a.a.createElement("p",{style:{textAlign:"center"}},"No Todos. Please Add a todo"):o.todos.map((function(e){return a.a.createElement(N,{key:e._id,todo:e})}))))})))))}}]),n}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.ef52d56c.chunk.js.map